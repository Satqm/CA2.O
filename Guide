Looking at your issue, I can see the problem. The white screen happens because of the license validation logic and event listener setup. When the app loads, it's trying to check for an existing license, but there are some issues with the DOM event listeners and initialization order.

Let me give you step-by-step fixes:

Step 1: Fix the Initial Display Issue

Find this code in your JavaScript section (around line 1710-1750):

```javascript
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded - initializing app');

    // Set today's date in start date input
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('start-date').value = today;
    document.getElementById('target-date').value = today;

    // Initialize license system FIRST
    initializeLicenseSystem();

    // Then setup other event listeners
    setupEventListeners();
    loadUserData();
    loadDefaultContent();

    // Update UI
    updateUserUI();

    console.log('App initialized successfully');
});
```

Replace it with this fixed version:

```javascript
document.addEventListener('DOMContentLoaded', function() {
    console.log('DOM loaded - initializing app');

    // First, make sure welcome screen is visible
    document.getElementById('welcome-container').style.display = 'flex';
    document.getElementById('app-container').style.display = 'none';

    // Set today's date in start date input
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('start-date').value = today;
    document.getElementById('target-date').value = today;

    // Initialize license system with delay to ensure DOM is ready
    setTimeout(function() {
        initializeLicenseSystem();
        setupEventListeners();
        loadUserData();
        loadDefaultContent();
        updateUserUI();
        console.log('App initialized successfully');
        
        // Force show welcome screen initially
        document.getElementById('welcome-container').style.display = 'flex';
        document.getElementById('app-container').style.display = 'none';
    }, 100);
});
```

Step 2: Fix the License Event Listeners

Find the setupLicenseEventListeners() function (around line 1095-1190):

Replace the ENTIRE function with this fixed version:

```javascript
function setupLicenseEventListeners() {
    console.log('Setting up license event listeners...');
    
    // Wait for DOM to be ready
    const checkAndSetup = () => {
        // Activate button
        const activateBtn = document.getElementById('license-activate-btn');
        if (activateBtn) {
            console.log('Found activate button');
            activateBtn.addEventListener('click', function(e) {
                console.log('Activate button clicked');
                e.preventDefault();
                e.stopPropagation();
                activateLicense();
            });
        } else {
            console.warn('Activate button not found yet, retrying...');
            setTimeout(checkAndSetup, 100);
            return;
        }

        // Demo button
        const demoBtn = document.getElementById('use-demo-btn');
        if (demoBtn) {
            console.log('Found demo button');
            demoBtn.addEventListener('click', function(e) {
                console.log('Demo button clicked');
                e.preventDefault();
                e.stopPropagation();
                useDemoLicense();
            });
        }

        // Get license button
        const getLicenseBtn = document.getElementById('get-license-btn');
        if (getLicenseBtn) {
            getLicenseBtn.addEventListener('click', function(e) {
                e.preventDefault();
                window.open('https://wa.me/919142300129', '_blank');
            });
        }

        // Enter key on license input
        const licenseInput = document.getElementById('license-input');
        if (licenseInput) {
            licenseInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    activateLicense();
                }
            });
        }

        // Enter key on name input
        const nameInput = document.getElementById('user-name-input');
        if (nameInput) {
            nameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    document.getElementById('license-input').focus();
                }
            });
        }

        console.log('License event listeners set up successfully');
    };

    // Try immediately
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', checkAndSetup);
    } else {
        setTimeout(checkAndSetup, 100);
    }
}
```

Step 3: Fix the License Check on Startup

Find the checkLicenseOnStartup() function (around line 1200-1245):

Replace it with:

```javascript
function checkLicenseOnStartup() {
    console.log('Checking license on startup...');
    
    // ALWAYS show welcome screen first
    document.getElementById('welcome-container').style.display = 'flex';
    document.getElementById('app-container').style.display = 'none';
    
    // Load saved license
    currentLicense = DataStorage.load('license');
    const trialData = DataStorage.load('trial');
    
    if (trialData) {
        isTrialActive = trialData.active;
        trialStartDate = trialData.startDate;
        trialDaysLeft = calculateTrialDaysLeft(trialStartDate);
    }
    
    // Check if we have a license and it's still valid
    if (currentLicense) {
        console.log('Found saved license:', currentLicense);
        const validation = validateLicense(currentLicense.key);
        if (validation.valid) {
            // Check if license is expired
            const expiryDate = new Date(currentLicense.expiry);
            const today = new Date();
            
            if (expiryDate >= today) {
                showLicenseStatus('active', 'License active. Welcome back!');
                // Don't auto-enable app access - let user click activate
                // enableAppAccess(); // COMMENTED OUT - User must click activate
            } else {
                showLicenseStatus('expired', 'License has expired');
                checkTrialAccess();
            }
        } else {
            showLicenseStatus('expired', 'License validation failed');
            checkTrialAccess();
        }
    } else {
        console.log('No saved license found');
        checkTrialAccess();
    }
}
```

Step 4: Fix the Enable App Access Function

Find the enableAppAccess() function (around line 1400-1440):

Replace it with:

```javascript
function enableAppAccess() {
    console.log('Enabling app access...');
    
    // Hide welcome screen and show app with animation
    const welcomeContainer = document.getElementById('welcome-container');
    const appContainer = document.getElementById('app-container');
    
    // Add fade out animation to welcome screen
    welcomeContainer.style.opacity = '1';
    welcomeContainer.style.transition = 'opacity 0.5s ease';
    
    setTimeout(() => {
        welcomeContainer.style.opacity = '0';
        setTimeout(() => {
            welcomeContainer.style.display = 'none';
            appContainer.style.display = 'block';
            
            // Add fade in animation to app container
            appContainer.style.opacity = '0';
            appContainer.classList.add('active');
            
            setTimeout(() => {
                appContainer.style.opacity = '1';
                appContainer.style.transition = 'opacity 0.5s ease';
            }, 50);
            
            // Update user name from input
            const userNameInput = document.getElementById('user-name-input');
            const userName = userNameInput ? userNameInput.value.trim() || 'User' : 'User';
            currentUser.name = userName;
            currentUser.initials = userName.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
            
            // Update UI
            updateUserUI();
            
            // Update dashboard
            updateDashboard();
            
            // Show success message
            showToast(`Welcome ${currentUser.name}! Starting your study tracker...`, 'success');
            
            // Save user data
            DataStorage.save('user', currentUser);
            
            // For demo license, set trial data
            if (currentLicense && currentLicense.type === 'DEMO') {
                const trialData = {
                    active: true,
                    startDate: new Date().toISOString(),
                    days: 7
                };
                DataStorage.save('trial', trialData);
                isTrialActive = true;
                trialDaysLeft = 7;
                
                // Show trial info
                const trialInfo = document.getElementById('trial-info');
                if (trialInfo) {
                    trialInfo.style.display = 'block';
                    const trialDays = document.getElementById('trial-days');
                    if (trialDays) trialDays.textContent = trialDaysLeft;
                }
            }
            
            console.log('App access enabled successfully');
        }, 500);
    }, 100);
}
```

Step 5: Add This CSS Fix at the End of Your CSS

Go to the very end of your <style> section and add:

```css
/* FIX for initial display */
#welcome-container {
    display: flex !important;
    opacity: 1;
    transition: opacity 0.5s ease;
}

#app-container {
    display: none !important;
    opacity: 0;
    transition: opacity 0.5s ease;
}

#app-container.active {
    display: block !important;
    opacity: 1;
}

/* Ensure license buttons work */
#license-activate-btn, #use-demo-btn {
    cursor: pointer;
    position: relative;
    z-index: 100;
}

/* Prevent flash */
body {
    opacity: 1 !important;
    visibility: visible !important;
}
```

Step 6: Quick Test Fix

If the above doesn't work immediately, add this temporary fix at the very end of your JavaScript (just before the closing </script> tag):

```javascript
// TEMPORARY FIX: Force show welcome screen on load
window.addEventListener('load', function() {
    console.log('Page fully loaded, forcing welcome screen display');
    document.getElementById('welcome-container').style.display = 'flex';
    document.getElementById('app-container').style.display = 'none';
    
    // Re-initialize license system after 500ms
    setTimeout(function() {
        initializeLicenseSystem();
    }, 500);
});
```

Step-by-Step Application Guide:

1. Copy Step 1 code and replace the existing DOMContentLoaded function
2. Copy Step 2 code and replace the existing setupLicenseEventListeners() function
3. Copy Step 3 code and replace the existing checkLicenseOnStartup() function
4. Copy Step 4 code and replace the existing enableAppAccess() function
5. Copy Step 5 code and add it at the very end of your <style> section
6. Copy Step 6 code and add it at the very end of your JavaScript (before </script>)

Why These Fixes Work:

1. The white screen was happening because the app was trying to check for a license and auto-hide the welcome screen before DOM was fully ready
2. The disappearing welcome tab was due to event listeners not being properly attached
3. The fixes ensure:
   · Welcome screen always shows first
   · Event listeners are properly attached
   · License check happens after DOM is ready
   · Smooth transitions between screens
   · User must explicitly click "Activate" or "Use Demo"

After applying these fixes, your app should:

1. Show the welcome screen first
2. Properly respond to button clicks
3. Smoothly transition to the app after license activation
4. Not show any white screens or flashes

Try these fixes and let me know if you need further assistance!
